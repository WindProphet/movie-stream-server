var app, express, serveIndex, serveVideo;

express = require('express');

serveIndex = require('serve-index');

serveVideo = require('./serve-video');

app = express();

app.get('/', function(req, res) {
  return res.send("");
});

app.use('/movies', serveIndex(process.env.HOME + '/Movies', {
  icons: true,
  filter: function(filename, index, files, dir) {
    return !(filename.match(/\.(rmvb)|(mkv)|(txt)|(com)$/) || filename.match(/Icon/i));
  }
}));

app.use('/movies', express["static"](process.env.HOME + '/Movies'));

app.listen('/tmp/hello.sock');

module.exports = app;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlcyI6WyJzZXJ2ZXIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUE7O0FBQUEsT0FBQSxHQUFVLE9BQUEsQ0FBUSxTQUFSOztBQUNWLFVBQUEsR0FBYSxPQUFBLENBQVEsYUFBUjs7QUFDYixVQUFBLEdBQWEsT0FBQSxDQUFRLGVBQVI7O0FBRWIsR0FBQSxHQUFNLE9BQUEsQ0FBQTs7QUFDTixHQUFHLENBQUMsR0FBSixDQUFRLEdBQVIsRUFBYSxTQUFDLEdBQUQsRUFBSyxHQUFMO1NBQ1gsR0FBRyxDQUFDLElBQUosQ0FBUyxFQUFUO0FBRFcsQ0FBYjs7QUFHQSxHQUFHLENBQUMsR0FBSixDQUFRLFNBQVIsRUFBa0IsVUFBQSxDQUFXLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBWixHQUFtQixTQUE5QixFQUF3QztFQUN4RCxLQUFBLEVBQU0sSUFEa0Q7RUFFeEQsTUFBQSxFQUFRLFNBQUMsUUFBRCxFQUFXLEtBQVgsRUFBa0IsS0FBbEIsRUFBeUIsR0FBekI7V0FDTixDQUFDLENBQUUsUUFBUSxDQUFDLEtBQVQsQ0FBZSw2QkFBZixDQUFBLElBQWlELFFBQVEsQ0FBQyxLQUFULENBQWUsT0FBZixDQUFuRDtFQURLLENBRmdEO0NBQXhDLENBQWxCOztBQUtBLEdBQUcsQ0FBQyxHQUFKLENBQVEsU0FBUixFQUFrQixPQUFPLEVBQUMsTUFBRCxFQUFQLENBQWUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFaLEdBQW1CLFNBQWxDLENBQWxCOztBQUVBLEdBQUcsQ0FBQyxNQUFKLENBQVcsSUFBWDs7QUFFQSxNQUFNLENBQUMsT0FBUCxHQUFpQiIsInNvdXJjZXNDb250ZW50IjpbImV4cHJlc3MgPSByZXF1aXJlICdleHByZXNzJ1xuc2VydmVJbmRleCA9IHJlcXVpcmUoJ3NlcnZlLWluZGV4JylcbnNlcnZlVmlkZW8gPSByZXF1aXJlKCcuL3NlcnZlLXZpZGVvJylcblxuYXBwID0gZXhwcmVzcygpXG5hcHAuZ2V0ICcvJywgKHJlcSxyZXMpIC0+XG4gIHJlcy5zZW5kIFwiXCJcblxuYXBwLnVzZSgnL21vdmllcycsc2VydmVJbmRleChwcm9jZXNzLmVudi5IT01FICsgJy9Nb3ZpZXMnLHtcbiAgaWNvbnM6dHJ1ZVxuICBmaWx0ZXI6IChmaWxlbmFtZSwgaW5kZXgsIGZpbGVzLCBkaXIpIC0+XG4gICAgISggZmlsZW5hbWUubWF0Y2goL1xcLihybXZiKXwobWt2KXwodHh0KXwoY29tKSQvKSB8fCBmaWxlbmFtZS5tYXRjaCgvSWNvbi9pKSlcbn0pKVxuYXBwLnVzZSgnL21vdmllcycsZXhwcmVzcy5zdGF0aWMocHJvY2Vzcy5lbnYuSE9NRSArICcvTW92aWVzJykpXG5cbmFwcC5saXN0ZW4oMzIwMClcblxubW9kdWxlLmV4cG9ydHMgPSBhcHBcbiJdfQ==
